{% extends "portal/layout.html" %}
{% block more_head %}
<script src="/static/js/portal_command.js"></script>
<script>

        $(function(){
            $("#execute-command").keydown(function(event){
                if(event.keyCode == 13){
                    fn_search_log_file();
                    event.preventDefault();
                    return false;
                }
            });

        })

</script>
<style>
.command-display {
        display: block;
  width: 100%;
  padding: 6px 12px;
  font-size: 14px;
  line-height: 1.42857143;
  color: #555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 4px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
          box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
  -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
       -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
          transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}
.command-display:empty{
    border: none;
}
  </style>
{% endblock %}


{% block content %}
{% block main_section%}
        <div class="row">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <img class="loading pull-right" src="/static/img/loading.gif" style="display:none;"></img>
                            {{_('Execute Input Command')}}
                        </div>

                        <div class="panel-body">
                            <form role="form">
                                        <div class="form-group">
                                                <label>Command</label>
                                                <input id="execute-command" name="execute_command" type="text" class="form-control input-sm" list="cmd_history">
                                                <datalist id="cmd_history">
                                                    {% for single_cmd in history_cmds%}
                                                        <option>{{single_cmd}}</option>
                                                    {%endfor%}
                                        </div>
                            </form>
                            <hr/>
                            <pre id="command_result" class="command-display"></pre>
                            <button id="refresh_button" class="btn btn-info"  style="visibility: hidden;" onclick="refresh_command();">{{_('Refresh')}}</button>

                        </div>

                    </div>

            </div>
        
        </div>

    {%endblock%}
{% endblock %}
