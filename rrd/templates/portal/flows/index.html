{% extends "portal/layout.html" %}
{% block content %}
<script src="/static/js/flows.js"></script>
<script src="/static/js/bootstrapSwitch.js"></script>
<link rel="stylesheet" href="/static/css/bootstrapSwitch.css">
<div class="row">
    <div class="panel panel-body" style="background-color: transparent">  
        <div class="row">
            <div class="col-md-12">
                <a href="/portal/flows">

                <div class="netflow-block pull-left">
                        <div class="netflow-word">
                                网络数据流
                        </div>
                    </div>
                </a>

                <a href="/portal/flows/unforbid">

                <div class="forbid-ip pull-left">
                        <div class="forbid-ip-word">
                                被禁IP
                        </div>
                    </div>
                </a>
                    
                    <div class="form-group pull-right " style="padding-right: 1%; margin-left: 5px;">
                            <select class="form-control input-sm show-all-proxy" style="height: 40px"  id="protocol_selection" onchange="change_protocol_selection(this.value);return false;">
                                    <option value="all">  显示所有协议</option>
                                    <option value="tcp_only">仅显示TCP协议</option>
                                    <option value="udp_only">仅显示UDP协议</option>
                            </select>
                    </div>

                    <div class="form-group pull-right">
                            <button id="ipv4_only_button" class="ipv4-only" onclick="change_ipv4_show_case();return false;"> <div class="ipv4-only-word"></div> </button>
                            <button id="merge_ip_choice_button" class="combine-same-ip" onclick="change_merge_ip_choice();return false;"></button>

                    </div>

                    <div class="auto-refresh pull-right">
                        <div class="auto-refresh-word pull-left">
                                自动刷新
                        </div>
                            <div class="switch switch-small pull-left" style="min-width: 50px; margin: 5px 5px 5px 0px;">
                                <input name="auto_refresh_box" id="auto_refresh_box" type="checkbox" onchange="change_auto_refresh(this)" checked />
                            </div>
                    </div>
            </div>
        </div>
        
    </div>
</div>
<table class="table table-hover table-bordered table-striped" style="margin-bottom: 0px; margin-top: 10px;">
    <thead class="netflow-table-head-word">
        <tr>
            <th>应用</th>
            <th> 协议</th>
            <th>Client</th>
            <th>Server</th>
            <th>连接时长</th>
            <th>真实传输率</th>
            <th>总Bytes数</th>
            <th>禁止访问</th>
        </tr>
    </thead>
    <tbody id="flow_table" class="netflow-table-body-word">

    </tbody>
</table>


{% import "portal/blocks.html" as blocks %}
{{ blocks.pager('/portal/flows?ipv4_only='+curr_ipv4_only+'&merge_ip='+curr_merge_ip+'&protocol_choice='+curr_proc_choice,  total_row, limit, page) }}


{% endblock %}
